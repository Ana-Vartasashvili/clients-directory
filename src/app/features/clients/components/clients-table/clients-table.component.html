<p-table
  #dt2
  [value]="clients"
  [columns]="tableHeaders"
  dataKey="id"
  [rows]="pageSize"
  [rowsPerPageOptions]="pageSizeOptions"
  [loading]="isLoading"
  [showLoader]="false"
  [paginator]="true"
  [tableStyle]="{ 'min-width': '75rem' }"
  [rowHover]="true"
  paginatorStyleClass="flex !justify-end mt-4"
>
  <ng-template #header let-columns>
    <tr>
      @for(col of columns; track col; let isFirst = $first){
      <th [style.width.%]="isFirst ? 5 : 100 / columns.length">
        {{ col }}
      </th>
      }
    </tr>
  </ng-template>

  <ng-template #body let-client>
    <tr>
      <td>{{ client.id }}</td>
      <td>
        <div class="flex items-center gap-2">
          <p-avatar
            [image]="imageBaseUrl + client.profileImageUrl"
            shape="circle"
            class="object-cover !bg-slate-200"
            [label]="client.profileImageUrl ? '' : client.firstName[0]"
          ></p-avatar>
          <span class="whitespace-nowrap">{{ client.firstName + ' ' + client.lastName }}</span>
        </div>
      </td>
      <td>
        <div class="flex items-center gap-2">
          <span>{{ Gender[client.gender] }}</span>
        </div>
      </td>
      <td>
        <div class="flex items-center gap-2">
          <span>{{ client.documentId }}</span>
        </div>
      </td>
      <td>
        <div class="flex items-center gap-2">
          <span>{{ client.phoneNumber }}</span>
        </div>
      </td>
      <td>
        <div class="flex items-center gap-2">
          <span>{{ getFullAddress(client, 'legal') }}</span>
        </div>
      </td>
      <td>
        <div class="flex items-center gap-2">
          <span>{{ getFullAddress(client, 'actual') }}</span>
        </div>
      </td>
    </tr>
  </ng-template>

  <ng-template #emptymessage let-columns>
    <tr>
      <td colspan="7">No clients found.</td>
    </tr>
  </ng-template>
</p-table>
